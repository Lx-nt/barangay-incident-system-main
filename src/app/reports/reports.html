<div class="reports-container">
  
  <h1>Hello, Admin</h1>
  <h2>Recent Reports</h2>

  <!-- FILTERS ON RIGHT -->
  <div class="filter-row">
    <select [(ngModel)]="statusFilter" (change)="applyFilters()">
      <option value="">Filter by Status</option>
      <option value="Pending">Pending</option>
      <option value="Ongoing">Ongoing</option>
      <option value="Resolved">Resolved</option>
    </select>

    <input type="date" [(ngModel)]="dateFilter" (change)="applyFilters()" />
  </div>

  <!-- TABLE -->
  <table class="reports-table">
    <thead>
      <tr>
        <th>Type</th>
        <th>Status</th>
        <th>Date</th>
        <th>Actions</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let r of filteredReports">
        <td>{{ r.type }}</td>
        <td>{{ r.status }}</td>
        <td>{{ r.date }}</td>

        <td class="actions">
          <a (click)="openView(r)">View</a>
          <a (click)="openEdit(r)">Edit</a>
          <a (click)="openDelete(r)">Delete</a>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- VIEW MODAL -->
  <div *ngIf="viewReport" class="modal-backdrop">
    <div class="modal-box">
      <h3>Report Details</h3>

      <p><strong>Name:</strong> {{ viewReport.name }}</p>
      <p><strong>Incident Type:</strong> {{ viewReport.type }}</p>
      <p><strong>Category:</strong> {{ viewReport.category }}</p>
      <p><strong>Date:</strong> {{ viewReport.date }}</p>
      <p><strong>Time:</strong> {{ viewReport.time }}</p>
      <p><strong>Location:</strong> {{ viewReport.location }}</p>
      <p><strong>Description:</strong> {{ viewReport.description }}</p>

      <div class="modal-buttons">
        <button class="btn-cancel" (click)="closeView()">Close</button>
      </div>
    </div>
  </div>

  <!-- EDIT MODAL -->
  <div *ngIf="selectedReport" class="modal-backdrop">
    <div class="modal-box">
      <h3>Edit Status</h3>

      <label>Status:</label>
      <select [(ngModel)]="selectedReport.status" class="status-select">
        <option value="Pending">Pending</option>
        <option value="Ongoing">Ongoing</option>
        <option value="Resolved">Resolved</option>
      </select>

      <div class="modal-buttons">
        <button class="btn-save" (click)="saveEdit()">Save</button>
        <button class="btn-cancel" (click)="closeEdit()">Cancel</button>
      </div>
    </div>
  </div>

  <!-- DELETE CONFIRMATION MODAL -->
  <div *ngIf="deleteTarget" class="modal-backdrop">
    <div class="delete-modal-box">
      <h3>Delete Report?</h3>
      <p>Are you sure you want to delete this report?</p>

      <div class="modal-buttons">
        <button class="btn-delete" (click)="confirmDelete()">Delete</button>
        <button class="btn-cancel" (click)="cancelDelete()">Cancel</button>
      </div>
    </div>
  </div>

</div>
